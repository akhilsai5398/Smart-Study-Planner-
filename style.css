/* Reset & base */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: Inter, Arial, sans-serif; }
:root{
  --bg: #f4f6f9;
  --card: #ffffff;
  --text: #1f2937;
  --muted: #667085;
  --accent: #27ae60;
  --accent-dark: #219150;
  --danger: #e74c3c;
  --shadow: rgba(15, 23, 42, 0.08);
}
body { background: var(--bg); color: var(--text); padding: 20px; }

/* Dark theme */
body.dark {
  --bg: #0f1724;
  --card: #0b1220;
  --text: #e6eef8;
  --muted: #9aa8c3;
  --accent: #22c55e;
  --accent-dark: #16a34a;
  --danger: #fb7185;
  --shadow: rgba(2,6,23,0.6);
}

/* Header */
header { text-align: center; margin-bottom: 18px; }
h1 { font-size: 1.6rem; margin-bottom: 8px; }
.top-controls { display:flex; justify-content:center; gap:12px; align-items:center; margin-bottom:6px; }
.toggle-group { display:flex; gap:8px; }
.icon-btn { background: transparent; border: 1px solid rgba(0,0,0,0.06); padding:8px; border-radius:8px; cursor:pointer; }
.icon-btn:hover { transform: translateY(-2px); transition: transform .15s; }

/* Streak */
.streak { font-weight:600; color: var(--muted); }

/* Task Input */
.task-input { display:flex; gap:8px; justify-content:center; margin-bottom:14px; flex-wrap:wrap; }
.task-input input, .task-input select, .task-input button { padding:10px 12px; font-size:0.95rem; border-radius:8px; border:1px solid rgba(0,0,0,0.06); }
.primary { background: var(--accent); color: white; border:none; cursor:pointer; border-radius:8px; }
.primary:hover { background: var(--accent-dark); }

/* Controls */
.task-controls { display:flex; gap:8px; justify-content:center; margin-bottom:14px; flex-wrap:wrap; }
.task-controls input, .task-controls select, .task-controls button { padding:8px 10px; border-radius:8px; border:1px solid rgba(0,0,0,0.06); }
.muted { background: transparent; color: var(--muted); cursor:pointer; }

/* Task List */
.task-list { background: var(--card); padding: 16px; border-radius: 12px; box-shadow: 0 6px 18px var(--shadow); max-width:820px; margin: auto; }
.task-list h2 { margin-bottom:8px; font-size:1.1rem; }
.task-list ul { list-style:none; }
.task-list li {
  display:flex; align-items:center; justify-content:space-between; padding:10px; gap:12px;
  border-radius:8px; margin-bottom:8px; transition: transform .18s ease, opacity .18s ease;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
}
.task-list li.fade-in { animation: fadeIn .28s ease both; }
.task-list li.removing { animation: fadeOut .22s ease both; opacity:0; transform:translateX(8px) scale(.99); }

.task-info { display:flex; gap:10px; align-items:center; flex:1; min-width:0; }
.badge { padding:5px 8px; border-radius:8px; font-weight:600; font-size:0.8rem; color:white; }
.priority-high { background:#ef4444; } /* red */
.priority-medium { background:#f59e0b; } /* amber */
.priority-low { background:#10b981; } /* green */

.task-text { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.task-meta { color:var(--muted); font-size:0.85rem; margin-left:6px; }

.task-actions { display:flex; gap:8px; }
.task-actions button { padding:8px 10px; border-radius:8px; border: none; cursor:pointer; }

/* Completed style */
li.completed { opacity:0.6; text-decoration:line-through; }

/* Progress */
.progress { margin-top:18px; text-align:center; max-width:820px; margin-left:auto; margin-right:auto; }
.progress-bar { width: 80%; height:16px; background: rgba(0,0,0,0.06); border-radius:999px; margin:10px auto; overflow:hidden; }
#progressFill { height:100%; width:0; background: var(--accent); transition: width 0.45s cubic-bezier(.2,.9,.2,1); border-radius:999px; }
#progressText { color:var(--muted); }

/* No tasks placeholder */
#noTasks { text-align:center; color:var(--muted); margin-top:10px; }

/* Modal */
.modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(3,7,18,0.5); z-index:30; }
.modal .modal-content { background:var(--card); padding:18px; border-radius:12px; width:min(420px, 90%); box-shadow: 0 20px 40px var(--shadow); display:flex; flex-direction:column; gap:10px; }
.modal.show { display:flex; }
.modal-actions { display:flex; gap:8px; justify-content:flex-end; }

/* Animations */
@keyframes fadeIn { from { opacity:0; transform: translateY(8px); } to { opacity:1; transform: translateY(0);} }
@keyframes fadeOut { from { opacity:1; transform: translateY(0);} to { opacity:0; transform: translateY(8px);} }

/* Responsive */
@media (max-width:600px){
  .task-input, .task-controls { flex-direction:column; align-items:center; }
  .task-controls { gap:10px; }
}
